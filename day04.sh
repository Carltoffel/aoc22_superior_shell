#! /bin/env sh

echo Part 1
cat $1|sed 's/\([0-9]*\)-\([0-9]*\),\([0-9]*\)-\([0-9]*\)/(\1<=\3\&\&\2>=\4)\|\|(\1>=\3\&\&\2<=\4)/g'|bc|tr '\n' '+'|sed 's/+$/\n/'|bc

echo Part 2
#cat $1|sed 's/\([0-9]*\)-\([0-9]*\),\([0-9]*\)-\([0-9]*\)/(\3<=\2\&\&\2<=\4)*(\2-((\1<=\3)*\3+(\3<\1)*\1)+1)+(\4<\2\&\&\1<=\4)*(\4- ((\1<\3)*\3+(\3<\1)*\1) +1)/'
cat $1|sed 's/\([0-9]*\)-\([0-9]*\),\([0-9]*\)-\([0-9]*\)/(\3<=\2\&\&\2<=\4)\|\|(\3<=\1\&\&\1<=\4)|\|\(\1<\3\&\&\3<\2)/' |bc|tr '\n' '+'|sed 's/+$/\n/'|bc
